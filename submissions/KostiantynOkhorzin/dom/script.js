"use strict";

document.addEventListener('DOMContentLoaded', showSeasonsGot); 

const data = [
    {   
        id: 1,
        title: 'Game of Thrones (season 1)',
        descr: `The first season of the fantasy drama television series Game of Thrones premiered on HBO on April 17, 2011, in the U.S. and concluded on June 19, 2011. It consists of ten episodes, each of approximately 55 minutes. The series is based on A Game of Thrones, the first novel in the A Song of Ice and Fire series by George R. R. Martin, adapted for television by David Benioff and D. B. Weiss.

        HBO had ordered a television pilot in November 2008; filming began the following year. However, it was deemed unsatisfactory and later reshot with some roles recast. In March 2010, HBO ordered the first season, which began filming in July 2010, primarily in Belfast, Northern Ireland, with additional filming in Malta.
        
        The story takes place in a fantasy world, primarily upon the continent Westeros, with one storyline occurring on another continent to the east, Essos. Like the novel, the season initially focuses on the family of nobleman Eddard "Ned" Stark, the Warden of the North, who is asked to become the King's Hand (chief advisor) to his longtime friend, King Robert Baratheon. Ned seeks to find out who murdered his predecessor, Jon Arryn. He uncovers dark secrets about the powerful Lannister family, which includes Robert's queen, Cersei, that his predecessor died trying to expose. This leads, after Robert's death, to Ned's arrest for treason. Ned's eldest son, Robb, begins a rebellion against the Lannisters. Ned is killed at the order of Cersei's tyrannical teenage son, King Joffrey Baratheon. Meanwhile, in Essos, the exiled Viserys Targaryen, son of the former king, forces his sister Daenerys to marry a Dothraki warlord in exchange for an army to pursue his claim to the Iron Throne. The season ends with Viserys dead and Daenerys becoming the Mother of Dragons.
        
        Game of Thrones features a large ensemble cast, including established actors such as Sean Bean, Mark Addy, Nikolaj Coster-Waldau, Michelle Fairley, Lena Headey, Iain Glen, and Peter Dinklage. Newer actors were cast as the younger generation of characters, such as Emilia Clarke, Kit Harington, Sophie Turner, and Maisie Williams.
        
        Critics praised the show's production values and cast; Dinklage's portrayal of Tyrion Lannister received specific accolades, as did Bean and Clarke, as well as Ramin Djawadi for music.
        
        The first season won two of the thirteen Emmy Awards for which it was nominated: Outstanding Supporting Actor in a Drama Series (Dinklage) and Outstanding Main Title Design. It was also nominated for Outstanding Drama Series. U.S. viewership rose by approximately 33% over the course of the season, from 2.2 million to over 3 million by the finale.`,
        img: 'img/season1.jpg'
    },
    {
        id: 2,
        title: 'Game of Thrones (season 2)',
        descr: `The second season of the fantasy drama television series Game of Thrones premiered in the United States on HBO on April 1, 2012, and concluded on June 3, 2012. It consists of 10 episodes, each running approximately 50–60 minutes. The season mostly covers the events of A Clash of Kings, the second novel of the A Song of Ice and Fire series by George R. R. Martin, adapted for television by David Benioff and D. B. Weiss. HBO ordered the second season on April 19, 2011, which began filming in July 2011, primarily in Ireland, Northern Ireland, Croatia and Iceland.

        The story takes place in a fantasy world, primarily on a fictional continent called Westeros, with one storyline occurring on another continent to the east, Essos. Like the novel, the season follows the aftermath of Eddard "Ned" Stark's dramatic death, and the political turmoil that comes with it. The season mainly centers around the War of the Five Kings, fought among the leaders of Westerosi factions who are either staking a claim to the Iron Throne, or seeking independence from it. Cersei Lannister, the widow of the late King Robert Baratheon, stays in the capital as queen regent, while her son Joffrey rules as King of the Seven Kingdoms. Cersei's twin brother, Jaime, is Robb Stark's prisoner, and her other brother, the dwarf Tyrion, serves as Acting Hand of the King to Joffrey, until the siblings' father, Tywin Lannister, returns to help defend the capital. In the North, Jon Snow and the Night's Watch stay with a reluctant ally during an expedition beyond the Wall. Meanwhile, in Essos, with three newborn dragons by her side, Daenerys Targaryen attempts to find allies and resources to help her fulfill her perceived destiny to win the Iron Throne.
        
        Game of Thrones features a large ensemble cast, including Peter Dinklage, Lena Headey, Nikolaj Coster-Waldau, Michelle Fairley and Emilia Clarke. The season introduced a number of new cast members, including Stephen Dillane, Natalie Dormer, Carice van Houten and Liam Cunningham.
        
        Critics praised the show's production values, cast, and music. Viewership rose compared with the previous season. The second season won six of the twelve Emmy Awards for which it was nominated. It received a nomination for Outstanding Supporting Actor in a Drama Series (Peter Dinklage) and Outstanding Drama Series. U.S. viewership rose by approximately 8% over the course of the season, from 3.9 million to 4.2 million by the season finale.`,
        img: 'img/season2.jpg'
    },
    {
        id: 3,
        title: 'Game of Thrones (season 3)',
        descr: `The third season of the fantasy drama television series Game of Thrones premiered in the United States on HBO on March 31, 2013, and concluded on June 9, 2013. It was broadcast on Sunday at 9:00 pm in the United States, consisting of 10 episodes, each running approximately 50–60 minutes.[1] The season is based roughly on the first half of A Storm of Swords (the third of the A Song of Ice and Fire novels by George R. R. Martin, of which the series is an adaptation).[2] The series is adapted for television by David Benioff and D. B. Weiss. HBO renewed the series for a third season on April 10, 2012, nine days after the second season's premiere. Production began in July 2012.[3] The show was filmed primarily in Ireland, Northern Ireland, Croatia, Iceland and Morocco.

        The story takes place in a fictional world, primarily upon a continent called Westeros, with one storyline occurring on another continent to the east, Essos. Like the novel, the season continues the storyline of The War of the Five Kings: after the death of Renly Baratheon, all four kings in Westeros believe they have a claim to the Iron Throne, besides Robb Stark, who seeks vengeance for the death of his father, Ned Stark, and independence for the North. The season also features other storylines: Daenerys Targaryen begins her rise in power in Essos; Ned's illegitimate son, Jon Snow, goes undercover beyond the Wall; the other Stark children struggle to survive up and down Westeros, but Robb is killed; Jaime Lannister returns to the capital; and all of Westeros is informed of the reawakened threat of the Army of the Dead.
        
        Game of Thrones features a large ensemble cast, including Peter Dinklage, Nikolaj Coster-Waldau, Lena Headey, Emilia Clarke and Kit Harington. The season introduced a number of new cast members, including Diana Rigg, Ciarán Hinds, Nathalie Emmanuel and Iwan Rheon.
        
        Critics praised the show's production values and cast. Viewership yet again rose compared to the previous season. It won 2 of the 16 Emmy Awards for which it was nominated; nominations included Outstanding Supporting Actor in a Drama Series (Dinklage), Outstanding Supporting Actress in a Drama Series (Clarke) and Outstanding Drama Series. It also won the Critics' Choice Television Award for Best Drama Series.`,
        img: 'img/season3.jpg'
    },
    {   
        id: 4,
        title: 'Game of Thrones (season 4)',
        descr: `The fourth season of the fantasy drama television series Game of Thrones premiered in the United States on HBO on April 6, 2014, and concluded on June 15, 2014. It was broadcast on Sunday at 9:00 pm in the United States, consisting of 10 episodes, each running approximately 50–60 minutes. The season is adapted primarily from the second half of A Storm of Swords, along with elements of A Feast for Crows and A Dance with Dragons, all novels from the A Song of Ice and Fire series by George R. R. Martin.[2] The series is adapted for television by David Benioff and D. B. Weiss. HBO ordered the fourth season on April 2, 2013, which began filming in July 2013. The season was filmed primarily in Ireland, Northern Ireland and Croatia.

        The story takes place in a fictional world, primarily upon a continent called Westeros, with one storyline occurring on another continent to the east, Essos. After the death of Robb Stark at The Red Wedding, all three remaining kings in Westeros believe they have a claim to the Iron Throne. King Joffrey is killed by poison at his wedding, and his uncle Tyrion is blamed; young Tommen Baratheon is crowned king. Meanwhile, Sansa Stark escapes King's Landing. At the Wall, Jon Snow and the Night's Watch, badly outnumbered, begin a grim battle against 100,000 Wildlings, but Stannis's army sweeps in to demand the Wildlings' surrender. Bran Stark's visions lead him far beyond the Wall to the north, where he meets the Three-Eyed Raven. Daenerys Targaryen captures Meereen and decides to rule as queen of Slaver's Bay until she can permanently defeat the slavers; she finds ruling more difficult than conquering. She reluctantly chains up her growing dragons, who have become difficult to control. Arya Stark crisscrosses Westeros accompanied by the Hound, but sails alone to Braavos on Essos to end the season.
        
        Game of Thrones features a large ensemble cast, including Peter Dinklage, Nikolaj Coster-Waldau, Lena Headey, Emilia Clarke and Kit Harington. The season introduced a number of new cast members, including Pedro Pascal, Indira Varma, Michiel Huisman and Dean-Charles Chapman.
        
        Critics praised the show's production values and cast, with specific accolades for Dinklage's portrayal of Tyrion Lannister. Viewership yet again rose compared to the previous season. It won 4 of the 19 Emmy Awards for which it was nominated.`,
        img: 'img/season4.jpeg'
    },
    {
        id: 5,
        title: 'Game of Thrones (season 5)',
        descr: `The fifth season of the fantasy drama television series Game of Thrones premiered on HBO on April 12, and concluded on June 14, 2015. It was broadcast on Sunday at 9:00 pm in the United States, consisting of 10 episodes, each running approximately 50–60 minutes. The season primarily adapts the storylines from A Feast for Crows and A Dance with Dragons, the fourth and fifth novels in George R. R. Martin's A Song of Ice and Fire series, though it also uses the remaining elements from the third novel, A Storm of Swords, as well as the upcoming sixth novel The Winds of Winter.It also contains original content not found in Martin's novels. The series is adapted for television by David Benioff and D. B. Weiss.

        Like previous seasons in Game of Thrones, the fifth season continues storylines primarily set within the fictional land of Westeros, while a few storylines are set in another continent, Essos. After the murders of King Joffrey and his grandfather Tywin Lannister, Cersei Lannister’s young, indecisive son, Tommen, rules Westeros as king. Tyrion flees to Essos, where he meets Daenerys Targaryen, who struggles to rule Slavers' Bay and regain control over her growing dragons. The Lannister family encounters new enemies, including a religious cult that Cersei foolishly empowers; they arrest her and Queen Margaery; Cersei confesses some sins and is released after a walk of atonement. Jon Snow becomes Lord Commander of the Night's Watch and serves under Stannis Baratheon, who pursues his claim to the Iron Throne by marching on the rebuilt Winterfell. Littlefinger has left Sansa Stark at Winterfell; she marries Ramsay Bolton, who rapes and imprisons her. Stannis is defeated and killed, while Sansa makes an escape with Theon. After Jon loses Night's Watchmen trying to rescue thousands of Wildlings from the White Walkers, several of his men mutiny and kill him. In Braavos, Arya Stark receives training as an assassin but disobeys her trainers, who blind her. Jaime retrieves princess Myrcella from Dorne, but she is murdered.
        
        HBO ordered the fifth season on April 8, 2014, together with the sixth season, which began filming in July 2014.[6] The season was filmed primarily in Ireland, Northern Ireland, Croatia and Spain.
        
        Game of Thrones features a large ensemble cast, including Peter Dinklage, Nikolaj Coster-Waldau, Lena Headey, Emilia Clarke and Kit Harington. The season introduced a number of new cast members, including Jonathan Pryce and Alexander Siddig.
        
        Critics praised the show's production values and cast, giving specific accolades for Dinklage's portrayal of Tyrion Lannister. Viewership yet again rose compared to the previous season. This season set a Guinness World Record for winning the highest number of Emmy Awards for a series in a single season and year, winning 12 out of 24 nominations, including Outstanding Drama Series.`,
        img: 'img/season5.jpeg'
    },
    {
        id: 6,
        title: 'Game of Thrones (season 6)',
        descr: `The sixth season of the fantasy drama television series Game of Thrones premiered on HBO on April 24, 2016, and concluded on June 26. It consists of 10 episodes, each of approximately 50–60 minutes long. Much of the season's storyline is derived from content not yet published in George R. R. Martin's A Song of Ice and Fire series, although a significant amount of material from A Feast for Crows, A Dance with Dragons and the upcoming sixth novel The Winds of Winter, which Martin outlined to showrunners David Benioff and D.B. Weiss, was used. The series was adapted for television by Benioff and Weiss. HBO had ordered the season on April 8, 2014, together with the fifth season, which began filming in July 2015[2][3] primarily in Northern Ireland, Spain, Croatia, Iceland and Canada. The season cost over $100 million to produce.

        The season follows the continuing struggle among the noble families of Westeros for the Iron Throne. The Starks and allies defeat the Bolton forces in the "Battle of the Bastards" reuniting Sansa Stark and Jon Snow, who is proclaimed the King in the North, while Ramsay Bolton is killed. In Essos, Tyrion Lannister rules Meereen while Daenerys Targaryen is held captive by the Dothraki, after which she burns the Khals, emerges from the flames of their temple alive leading the surviving Dothraki to pledge her their loyalty. At King's Landing, Margaery Tyrell capitulates to the High Sparrow, who becomes more powerful by influencing King Tommen. The imprisoned Cersei avoids her trial by destroying the Great Sept with wildfire, killing the Sparrows, her uncle, and the Tyrells. Tommen commits suicide in the wake of the blast, and his mother is crowned Queen of the Seven Kingdoms. Ellaria Sand and Oberyn Martell's daughters kill Doran and Trystane Martell and seize control of Dorne. Arya Stark finishes her assassin training and returns to Westeros to resume her revenge list. Bran Stark becomes the Three-Eyed Raven, escapes the White Walkers, and returns to the Wall. Yara Greyjoy fails in her bid to be queen of the Iron Islands, so she and Theon ally with Daenerys. Varys secures an alliance for her with Olenna and the Dornish.
        
        Game of Thrones features a large ensemble cast, including Peter Dinklage, Nikolaj Coster-Waldau, Lena Headey, Emilia Clarke, and Kit Harington. The season introduced new cast members, including Max von Sydow, Pilou Asbæk, and Essie Davis, and returned Isaac Hempstead Wright and David Bradley to the series. Additionally, Rory McCann returned to the series after his character, Sandor Clegane, was presumably left for dead in the fourth season. The season finale also marked the final appearances of Iwan Rheon, Kristian Nairn, Natalie Dormer, Jonathan Pryce, and Finn Jones.
        
        Critics praised its production values, writing, plot development, and cast. Game of Thrones received the most nominations for the 68th Primetime Emmy Awards, with 23 nominations, and won 12, including that for Outstanding Drama Series for the second year in a row. U.S. viewership rose compared to the previous season, and by approximately 13 percent over its course, from 7.9 million to 8.9 million by the finale.`,
        img: 'img/season6.jpg'
    },
    {
        id: 7,
        title: 'Game of Thrones (season 7)',
        descr: `The seventh and penultimate season of the fantasy drama television series Game of Thrones premiered on HBO on July 16, 2017, and concluded on August 27, 2017. Unlike previous seasons, which consisted of ten episodes each, the seventh season consisted of only seven episodes. Like the previous season, it largely consisted of original content not found in George R. R. Martin's A Song of Ice and Fire series, while also incorporating material that Martin revealed to showrunners about the upcoming novels in the series. The series was adapted for television by David Benioff and D. B. Weiss.

        The penultimate season focuses on the convergence of the show's main plots in preparation for the final season. Daenerys Targaryen arrives in Westeros with her army and three large dragons and begins to wage war against the Lannisters, who have defeated her allies in the south and west of Westeros. Jon Snow leaves Sansa in charge of Winterfell and visits Daenerys to secure her help to defeat the White Walkers and the Army of the Dead. He mines the dragonglass at Dragonstone and begins a romance with Daenerys. Arya and Bran (now the Three-Eyed Raven) return home to Winterfell; the Starks execute the treacherous Littlefinger. Tyrion persuades Daenerys not to destroy King's Landing, reminding her that she does not want to be simply a queen of ashes. Instead, Jon goes north of the wall to capture a wight to prove to Cersei that the fearsome army of the dead exist and are coming; in doing so, his group is pinned down and nearly killed. Daenerys rescues them with her dragons but the Night King kills one of her dragons and makes it part of his army. The undead dragon later destroys part of the Wall and the dead march through. Bran learns that Jon is really his cousin, Aegon Targaryen, the legitimate heir to the Iron Throne.
        
        HBO ordered the seventh season on April 21, 2016, three days before the premiere of the show's sixth season and began filming on August 31, 2016. The season was filmed primarily in Northern Ireland, Spain, Croatia and Iceland. Game of Thrones features a large ensemble cast, including Peter Dinklage, Nikolaj Coster-Waldau, Lena Headey, Emilia Clarke and Kit Harington. The season introduces several new cast members, including Jim Broadbent and Tom Hopper. The series received 22 nominations for the 70th Primetime Emmy Awards and won for Outstanding Drama Series and Dinklage won for Outstanding Supporting Actor in a Drama Series.`,
        img: 'img/season7.jpg'
    },
    {
        id: 8,
        title: 'Game of Thrones (season 8)',
        descr: `The eighth and final season of the fantasy drama television series Game of Thrones, produced by HBO, premiered on April 14, 2019, and concluded on May 19, 2019. Unlike the first six seasons, which consisted of ten episodes each, and the seventh season, which consisted of seven episodes, the eighth season consists of only six episodes.

        The season was filmed from October 2017 to July 2018 and largely consists of original content not found in George R. R. Martin's A Song of Ice and Fire series, while also incorporating material that Martin has revealed to showrunners about the upcoming novels in the series, The Winds of Winter and A Dream of Spring. The season was adapted for television by David Benioff and D. B. Weiss.
        
        The season was met with mixed reviews from critics, in contrast to the critical acclaim of previous seasons, and is the lowest-rated of the series on the website Rotten Tomatoes. While the performances, production values and music score were praised, criticism was mainly directed at the shorter runtime of the season as well as numerous creative decisions made by the showrunners regarding the plot and character arcs; many commentators deemed it to be a disappointing conclusion to the series.
        
        The season received 32 nominations at the 71st Primetime Emmy Awards, the most for a single season of television in history. It won twelve, including Outstanding Drama Series and Outstanding Supporting Actor in a Drama Series for Peter Dinklage.`,
        img: 'img/season8.jpg'
    },
];

function showSeasonsGot() {

    const listBtns = document.querySelector('.side-menu');
    const mainContent = document.querySelector('.content');
    const btnBurger = document.querySelector('.burger');
    const body = document.body;

    const styleList = {
        itemMenu: '.side-menu__btn',
        activeItemMenu: 'side-menu__btn_active',
        activeListBtns: 'side-menu_active',
        activeBtnBurger: 'burger_active',
        lock: '_lock'
    }

    const renderBtns = (arr, list) => {
        arr.forEach((item) => {
            list.insertAdjacentHTML('beforeend', `
                <li class="side-menu__item">
                    <button class="side-menu__btn" data-season='${item.id}'>Season ${item.id}</button>
                </li>
            `);
        })
    };
    
    const renderContent = (i = 1, arr = data) => {
        const selectedSeason = arr.filter((item) => item.id == i);
        const {title, descr, img} = selectedSeason[0];
        mainContent.innerHTML = `
            <h1 class="content__title">${title}</h1>
            <div class="content__descr">${descr}</div>
            <div class="content__img-wrapper">
                <img class="content__img" src=${img} alt=${title}>
            </div>
        `;
    };

    const toggleActiveClass = (i = 1) => {
        const btns = document.querySelectorAll(styleList.itemMenu);
        btns.forEach(btn => {
            btn.classList.remove(styleList.activeItemMenu);
            if(btn.dataset.season == i) {
                btn.classList.add(styleList.activeItemMenu);
            }
        });
        
    };

    const changeContent = (e) => {
        const numberSeason = e.target.dataset.season;
        toggleActiveClass(numberSeason);
        renderContent(numberSeason);
        toTop();
        closeBurger();
    };

    const toggleBurger = () => {
        body.classList.toggle(styleList.lock);
        btnBurger.classList.toggle(styleList.activeBtnBurger);
        listBtns.classList.toggle(styleList.activeListBtns);
    }

    const closeBurger = () => {
        if(listBtns.classList.contains(styleList.activeListBtns)) {
            body.classList.remove(styleList.lock);
            btnBurger.classList.remove(styleList.activeBtnBurger);
            listBtns.classList.remove(styleList.activeListBtns);
        }
    }

    function toTop() {
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }


    renderBtns(data, listBtns);
    toggleActiveClass();
    renderContent();

    listBtns.addEventListener('click', changeContent);

    btnBurger.addEventListener('click', toggleBurger);
}


